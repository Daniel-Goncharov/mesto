(()=>{"use strict";var e="element__like-button_active",t=".popup_type_profile",n=".profile__name",r=".profile__job",o=".popup_type_add-card",i="popup_opened",u=".popup__button",a=".popup_type_view-picture",c=".popup__picture",s=".popup__picture-title",l={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},p=document.querySelector(".popup__form_type_profile"),f=document.querySelector(".popup__form_type_add-avatar"),h=document.querySelector(".profile__avatar-button"),d=document.querySelector(".profile__edit-button"),_=(document.querySelector(t).querySelector(u),document.querySelector(".popup__input_data_name"),document.querySelector(".popup__input_data_job"),document.querySelector(n),document.querySelector(r),document.querySelector(".popup__form_type_add-card")),y=document.querySelector(".profile__add-button");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}document.querySelector(o),document.querySelector(".popup__input_data_place-name"),document.querySelector(".popup__input_data_place-url"),document.querySelector(a),document.querySelector(c),document.querySelector(s);var v=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.closePopup()},(n="_closePopupOnEsc")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupSelector=t,this._popup=document.querySelector(t),this._closePopupOnEsc=this._closePopupOnEsc.bind(this)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add(i),document.addEventListener("keydown",this._closePopupOnEsc)}},{key:"closePopup",value:function(){this._popup.classList.remove(i),document.removeEventListener("keydown",this._closePopupOnEsc)}},{key:"_closePopupByClick",value:function(e){(e.target.classList.contains("popup__closed-button")||e.target.classList.contains("popup"))&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){e._closePopupByClick(t)}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImgPicture=t._popup.querySelector(c),t._titleOfPopupImg=t._popup.querySelector(s),t}return t=u,(n=[{key:"openPopup",value:function(e,t){g(P(u.prototype),"openPopup",this).call(this),this._popupImgPicture.alt=e,this._titleOfPopupImg.textContent=e,this._popupImgPicture.src=t}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function q(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleSubmitForm=t,n._form=n._popup.querySelector(".popup__form"),n._submitButton=n._form.querySelector(u),n._permanentText=n._submitButton.textContent,n._inputList=Array.from(n._popup.querySelectorAll(".popup__input")),n}return t=a,(n=[{key:"closePopup",value:function(){this._form.reset(),j(R(a.prototype),"closePopup",this).call(this)}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;j(R(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues())}))}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Сохранение...":this._permanentText}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function t(e,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this.cardId=e._id,this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._handleOpenBigImage=n,this._handleLikeClick=r,this._handleTrashBinClick=o,this._templateSelector=i,this._myId=u}var n,r;return n=t,(r=[{key:"_getCardElement",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"updateLikeCounter",value:function(e){this._likes=e.likes}},{key:"updateLikesView",value:function(){this._likeCounter.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add(e):this._likeButton.classList.remove(e)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._myId}))}},{key:"generateCard",value:function(){return this._cardElement=this._getCardElement(),this._cardPicture=this._cardElement.querySelector(".element__picture"),this._cardTitle=this._cardElement.querySelector(".element__title"),this._cardPicture.src=this._link,this._cardPicture.alt=this._name,this._cardTitle.textContent=this._name,this._trashBin=this._cardElement.querySelector(".element__delete"),this._likeCounter=this._cardElement.querySelector(".element__like-counter"),this._likeButton=this._cardElement.querySelector(".element__like-button"),this._likeCounter.textContent=this._likes.length,this._ownerId!=this._myId&&this._trashBin.remove(),this.isLiked()&&this._likeButton.classList.add(e),this._setEventListeners(),this._cardElement}},{key:"_setEventListeners",value:function(){var e=this;this._cardPicture.addEventListener("click",(function(){return e._handleOpenBigImage(e._name,e._link)})),this._likeButton.addEventListener("click",(function(){return e._handleLikeClick(e)})),this._trashBin.addEventListener("click",(function(){return e._handleTrashBinClick(e)}))}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}}])&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n){var r,o,i=this,u=t.formSelector,a=t.inputSelector,c=t.submitButtonSelector,s=t.inactiveButtonClass,l=t.inputErrorClass,p=t.errorClass;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){return i._inputList.some((function(e){return!e.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=u,this._inputSelector=a,this._submitButtonSelector=c,this._inactiveButtonClass=s,this._inputErrorClass=l,this._errorClass=p,this._formEl=n,this._inputList=Array.from(this._formEl.querySelectorAll(this._inputSelector)),this._buttonElement=this._formEl.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formEl.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.classList.add(this._errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formEl.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_disableButtonState",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","disabled")}},{key:"_enableButtonState",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButtonState():this._enableButtonState()}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){var n=t._renderer(e);t.addAppendItem(n)}))}},{key:"addAppendItem",value:function(e){this._container.append(e)}},{key:"addPrependItem",value:function(e){this._container.prepend(e)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(t){var n=t.userName,r=t.userJob,o=t.userAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userJob=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userJob.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;this._userName.textContent=t,this._userJob.textContent=n,this._avatar.src=r,this._myId=o}},{key:"returnMyId",value:function(){return this._myId}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Упс, ошибка ".concat(e.status,", что-то пошло не так."))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"changeUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"changeAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addCardServer",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLikeToCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteLikeFromCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=K(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},$.apply(this,arguments)}function K(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function W(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return W(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__container_type_delete"),n._submitButton=n._form.querySelector(u),n._handleSubmitForm=t,n._permanentText=n._submitButton.textContent,n}return t=a,(n=[{key:"openPopup",value:function(e){$(X(a.prototype),"openPopup",this).call(this),this._card=e}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Удаление...":this._permanentText}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._card)})),$(X(a.prototype),"setEventListeners",this).call(this)}}])&&z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=new G({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-51/",headers:{authorization:"bfa40ffc-a9e7-4ab6-8334-2b3f41f7694b","content-Type":"application/json"}});Promise.all([ee.getUserInfo(),ee.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ie.setUserInfo(o),te.renderItems(i)})).catch((function(e){alert(e)}));var te=new N({renderer:ue},".elements__container"),ne=new V(l,p);ne.enableValidation();var re=new V(l,_);re.enableValidation();var oe=new V(l,f);oe.enableValidation();var ie=new F({userName:n,userJob:r,userAvatar:".profile__pic"});function ue(e){return new U(e,fe,he,de,".template",ie.returnMyId()).generateCard()}var ae=new O(a);ae.setEventListeners();var ce=new T(t,(function(e){ce.renderLoading(!0),ee.changeUserInfo(e).then((function(e){ie.setUserInfo(e),ce.closePopup()})).catch((function(e){alert(e)})).finally((function(){ce.renderLoading(!1)}))}));ce.setEventListeners();var se=new T(o,(function(e){se.renderLoading(!0),ee.addCardServer(e).then((function(e){te.addPrependItem(ue(e)),se.closePopup()})).catch((function(e){alert(e)})).finally((function(){se.renderLoading(!1)}))}));se.setEventListeners();var le=new T(".popup_type_add-avatar",(function(e){le.renderLoading(!0),ee.changeAvatar(e).then((function(e){ie.setUserInfo(e),le.closePopup()})).catch((function(e){return console.log(e)})).finally((function(){le.renderLoading(!1)}))}));le.setEventListeners();var pe=new Y(".popup_type_delete",(function(e){pe.renderLoading(!0),ee.deleteCard(e.cardId).then((function(){e.deleteCard(),pe.closePopup()})).catch((function(e){alert(e)})).finally((function(){pe.renderLoading(!1)}))}));function fe(e,t){ae.openPopup(e,t)}function he(e){e.isLiked()?ee.deleteLikeFromCard(e.cardId).then((function(t){e.updateLikeCounter(t),e.updateLikesView()})).catch((function(e){alert(e)})):ee.addLikeToCard(e.cardId).then((function(t){e.updateLikeCounter(t),e.updateLikesView()})).catch((function(e){alert(e)}))}function de(e){pe.openPopup(e)}pe.setEventListeners(),h.addEventListener("click",(function(){oe.resetValidation(),le.openPopup()})),d.addEventListener("click",(function(){ce.setInputValues(ie.getUserInfo()),ne.resetValidation(),ce.openPopup()})),y.addEventListener("click",(function(){re.resetValidation(),se.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLEdBQ05DLE1BQU1ELEVBQ1AsSUFsQkhaLEdBQ0d3QyxjQUFjM0UsRUFBSzNELFFBQ25CdUYsTUFBSyxTQUFDUixHQUNMcEIsRUFBS3lFLGtCQUFrQnJELEdBQ3ZCcEIsRUFBSzBFLGlCQUNOLElBQ0E1QixPQUFNLFNBQUNDLEdBQ05DLE1BQU1ELEVBQ1AsR0FZTixDQUVELFNBQVM5RyxHQUFvQitELEdBQzNCcUUsR0FBNEJFLFVBQVV2RSxFQUN2QyxDQWhGRHFFLEdBQTRCWixvQkFrRjVCN0ssRUFBYWdCLGlCQUFpQixTQUFTLFdBQ3JDeUosR0FBcUJ1QixrQkFDckJYLEdBQW9CTSxXQUNyQixJQUdEMUwsRUFBa0JlLGlCQUFpQixTQUFTLFdBQzFDOEosR0FBcUJtQixlQUFlbkMsR0FBS0osZUFDekNZLEdBQXNCMEIsa0JBQ3RCbEIsR0FBcUJhLFdBQ3RCLElBRUR4TCxFQUFjYSxpQkFBaUIsU0FBUyxXQUN0Q3dKLEdBQW1Cd0Isa0JBQ25CZCxHQUFrQlMsV0FDbkIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g0LrQvtC90YHRgtCw0L3RgtCwINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Y3Qu9C10LzQtdC90YLQvtCyINCy0L3Rg9GC0YDQuCDRgtC10LzQv9C70LXQudGC0LAg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9ycyA9IHtcbiAgY2FyZEVsZW1lbnQ6ICcuZWxlbWVudCcsXG4gIGVsZW1lbnRzSW1hZ2U6ICcuZWxlbWVudF9fcGljdHVyZScsXG4gIGVsZW1lbnRzTmFtZTogJy5lbGVtZW50X190aXRsZScsXG4gIGJ1dHRvbkxpa2U6ICcuZWxlbWVudF9fbGlrZS1idXR0b24nLFxuICBidXR0b25EZWw6ICcuZWxlbWVudF9fZGVsZXRlJyxcbiAgbGlrZWQ6ICdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnLFxuICBsaWtlZENvdW50ZXI6ICcuZWxlbWVudF9fbGlrZS1jb3VudGVyJyxcbn1cblxuLy8g0LrQvtC90YHRgtCw0L3RgtCwINGBINGB0LXQu9C10LrRgtC+0YDQsNC80LhcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XG4gIGNhcmRUZW1wbGF0ZTogJy50ZW1wbGF0ZScsXG4gIHBsYWNlRm9yQ2FyZDogJy5lbGVtZW50c19fY29udGFpbmVyJyxcbiAgZWRpdFByb2ZpbGVCdXR0b246ICcucHJvZmlsZV9fZWRpdC1idXR0b24nLFxuICBwb3B1cERlbGV0ZTogJy5wb3B1cF90eXBlX2RlbGV0ZScsXG4gIHBvcHVwUHJvZmlsZTogJy5wb3B1cF90eXBlX3Byb2ZpbGUnLFxuICBwb3B1cEF2YXRhcjogJy5wb3B1cF90eXBlX2FkZC1hdmF0YXInLFxuICBhdmF0YXJCdG46ICcucHJvZmlsZV9fYXZhdGFyLWJ1dHRvbicsXG4gIEF2YXRhckltZzogJy5wcm9maWxlX19waWMnLFxuICBmb3JtQXZhdGFyOiAnLnBvcHVwX19mb3JtX3R5cGVfYWRkLWF2YXRhcicsXG4gIGZvcm1Qcm9maWxlOiAnLnBvcHVwX19mb3JtX3R5cGVfcHJvZmlsZScsXG4gIHByb2ZpbGVOYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxuICBwcm9maWxlSm9iOiAnLnByb2ZpbGVfX2pvYicsXG4gIG5hbWVJbnB1dDogJy5wb3B1cF9faW5wdXRfZGF0YV9uYW1lJyxcbiAgam9iSW5wdXQ6ICcucG9wdXBfX2lucHV0X2RhdGFfam9iJyxcbiAgYWRkQ2FyZEJ1dHRvbjogJy5wcm9maWxlX19hZGQtYnV0dG9uJyxcbiAgcG9wdXBDYXJkOiAnLnBvcHVwX3R5cGVfYWRkLWNhcmQnLFxuICBmb3JtQ2FyZDogJy5wb3B1cF9fZm9ybV90eXBlX2FkZC1jYXJkJyxcbiAgbmFtZUNhcmQ6ICcucG9wdXBfX2lucHV0X2RhdGFfcGxhY2UtbmFtZScsXG4gIGxpbmtDYXJkOiAnLnBvcHVwX19pbnB1dF9kYXRhX3BsYWNlLXVybCcsXG4gIHBvcHVwOiAncG9wdXAnLFxuICBwb3B1cE9wZW5lZDogJ3BvcHVwX29wZW5lZCcsXG4gIGNsb3NlZEJ1dHRvbjogJ3BvcHVwX19jbG9zZWQtYnV0dG9uJyxcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgcG9wdXBEZWxldGVDb250YWluZXI6ICcucG9wdXBfX2NvbnRhaW5lcl90eXBlX2RlbGV0ZScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnLFxuICBwb3B1cFZpZXdQaWN0dXJlOiAnLnBvcHVwX3R5cGVfdmlldy1waWN0dXJlJyxcbiAgcG9wdXBQaWN0dXJlOiAnLnBvcHVwX19waWN0dXJlJyxcbiAgcG9wdXBUaXRsZTogJy5wb3B1cF9fcGljdHVyZS10aXRsZScsXG59XG5cbi8vINGB0L7QvdGB0YLQsNC90YLQsCDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INC00LvRjyDQstCw0LvQuNC00LjQt9Cw0YbQuNC4INGE0L7RgNC8XG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcbn07XG5cbi8vINC60L7QvdGB0YLQsNC90YLRiyDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZm9ybVByb2ZpbGUpOyAvLyDRhNC+0YDQvNCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZm9ybUF2YXRhcik7IC8vINGE0L7RgNC80LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuZXhwb3J0IGNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmF2YXRhckJ0bik7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5lZGl0UHJvZmlsZUJ1dHRvbik7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBQcm9maWxlKTsgLy8g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVsZW1lbnQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuc3VibWl0QnV0dG9uU2VsZWN0b3IpOyAvLyDQutC90L7Qv9C60LAg0L7RgtC/0YDQsNCy0LrQuCDQv9GA0L7RhNC40LvRj1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLm5hbWVJbnB1dCk7IC8vINC/0L7Qu9C1INCy0LLQvtC00LAg0LjQvNC10L3QuCDQv9GA0L7RhNC40LvRj1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuam9iSW5wdXQpOyAvLyDQv9C+0LvQtSDQstCy0L7QtNCwINGA0L7QtNCwINC30LDQvdC40Y/RgtC40Lkg0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnByb2ZpbGVOYW1lKTsgLy8gZG9tINGN0LvQtdC80LXQvdGCINC/0L7QutCw0LfRi9Cy0LDRjtGJ0LjQuSDQuNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnByb2ZpbGVKb2IpOyAvLyBkb20g0Y3Qu9C10LzQtdC90YIg0L/QvtC60LDQt9GL0LLQsNGO0YnQuNC5INGA0L7QtCDQt9Cw0L3Rj9GC0LjQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cblxuLy8g0LrQvtC90YHRgtCw0L3RgtGLINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5mb3JtQ2FyZCk7IC8vINGE0L7RgNC80LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmFkZENhcmRCdXR0b24pOyAvLyDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnBvcHVwQ2FyZCk7IC8vINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IG5hbWVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMubmFtZUNhcmQpOyAvLyDQv9C+0LvQtSDQstCy0L7QtNCwINC90LDQt9Cy0LDQvdC40Y8g0LzQtdGB0YLQsCDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgY29uc3QgbGlua0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5saW5rQ2FyZCk7IC8vINC/0L7Qu9C1INCy0LLQvtC00LAg0YHRgdGL0LvQutC4INC90LAg0LrQsNGA0YLQuNC90LrRgyDQutCw0YDRgtC+0YfQutC4XG5cbi8vINC60L7QvdGB0YLQsNC90YLRiyDQv9C+0L/QsNC/0LAg0YEg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IHBvcHVwVmlld1BpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cFZpZXdQaWN0dXJlKTsgLy8g0L/QvtC/0LDQvyDRg9Cy0LXQu9C40YfQtdC90L3QvtC5INC60LDRgNGC0LjQvdC60LhcbmV4cG9ydCBjb25zdCBwb3B1cEltZ1BpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cFBpY3R1cmUpOyAvLyDRg9Cy0LXQu9C40YfQtdC90L3QsNGPINC60LDRgNGC0LjQvdC60LBcbmV4cG9ydCBjb25zdCBjYXB0aW9uT2ZQb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnBvcHVwVGl0bGUpOyAvLyDQv9C+0LTQv9C40YHRjCDRg9Cy0LXQu9C40YfQtdC90L3QvtC5INC60LDRgNGC0LjQvdC60LgiLCIvLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIC8vINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0L/QvtC/0LDQv9CwXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VQb3B1cE9uRXNjID0gdGhpcy5fY2xvc2VQb3B1cE9uRXNjLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC+0YLQutGA0YvQstCw0Y7RidC40Lkg0L/QvtC/0LDQv1xuICBvcGVuUG9wdXAoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChzZWxlY3RvcnMucG9wdXBPcGVuZWQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZVBvcHVwT25Fc2MpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0LLQsNGO0YnQuNC5INC/0L7Qv9Cw0L9cbiAgY2xvc2VQb3B1cCgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKHNlbGVjdG9ycy5wb3B1cE9wZW5lZCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlUG9wdXBPbkVzYyk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC30LDQutGA0YvQstCw0Y7RidC40Lkg0L/QvtC/0LDQvyDQvdCw0LbQsNGC0LjQtdC8INC90LAgZXNjYXBlXG4gIF9jbG9zZVBvcHVwT25Fc2MgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICB9XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC30LDQutGA0YvQstCw0Y7RidC40Lkg0L/QvtC/0LDQvyDQv9C+INC60LvQuNC60YMg0LzRi9GI0LrQvtC5XG4gIF9jbG9zZVBvcHVwQnlDbGljayhldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0b3JzLmNsb3NlZEJ1dHRvbikgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0b3JzLnBvcHVwKSlcbiAgICB7XG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICB9XG4gIH1cblxuICAvLyDRg9GB0YLQsNC90L7QstC60LAg0YHQu9GD0YjQsNGC0LXQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9C+0LIg0L/QviDQutC70LjQutGDINC80YvRiNC60L7QuVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9jbG9zZVBvcHVwQnlDbGljayhldnQpO1xuICAgIH0pO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINGBINC60LDRgNGC0LjQvdC60L7QuSDQvtGC0LrRgNGL0LLQsNC10YIg0LrQsNGA0YLQuNC90LrRgyDQuNC3INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDQstC10YHRjCDRjdC60YDQsNC9INC4INC90LDRgdC70LXQtNGD0LXRgiDRh9Cw0YHRgtGMINC80LXRgtC+0LTQvtCyINC+0YIg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWdQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBQaWN0dXJlKTtcbiAgICB0aGlzLl90aXRsZU9mUG9wdXBJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cFRpdGxlKTtcbiAgfVxuXG4gIC8vINC/0LXRgNC10LfQsNC/0LjRgdGMINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC80LXRgtC+0LTQsC4g0KLQtdC/0LXRgNGMINC+0L0g0L7RgtC60YDRi9Cy0LDQtdGCINC60LDRgNGC0LjQvdC60YMg0LjQtyDQutCw0YDRgtC+0YfQutC4INC90LAg0LLQtdGB0Ywg0Y3QutGA0LDQvSDRgSDQv9C+0LTQv9C40YHRjNGOXG4gIG9wZW5Qb3B1cChuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlblBvcHVwKCk7XG4gICAgdGhpcy5fcG9wdXBJbWdQaWN0dXJlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fdGl0bGVPZlBvcHVwSW1nLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cEltZ1BpY3R1cmUuc3JjID0gbGluaztcbiAgfVxufSIsIi8vINC40LzQv9C+0YDRgiDQutC70LDRgdGB0LAg0L/QvtC/0LDQv1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xuLy8g0LjQvNC/0L7RgNGCINGB0LXQu9C10LrRgtC+0YDQvtCyXG5pbXBvcnQgeyBzZWxlY3RvcnMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG4vLyDQutC70LDRgdGBINC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YDQvNC+0LkgLSDQtNC+0LHQsNCy0LvRj9C10YIg0LrQu9Cw0YHRgdGDINC/0L7Qv9Cw0L8g0LzQtdGC0L7QtNGLINC/0L4g0YHQsdC+0YDRgyDQtNCw0L3QvdGL0YUg0LjQtyDQv9C+0LvQtdC5INC40LzQv9GD0YLQsCDQuCDQuNGFINC+0LHRgNCw0LHQvtGC0LrQtSDQuCDQvdCw0YHQu9C10LTRg9C10YIg0YfQsNGB0YLRjCDQvNC10YLQvtC00L7QsiDQvtGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/INC4INGN0LrRgdC/0L7RgNGCINC10LPQviDRgdC+0LTQtdGA0LbQuNC80L7Qs9C+XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAvLyDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/INGBINGE0L7RgNC80L7QuVxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fcGVybWFuZW50VGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YEg0YTQvtC80L7QuSDQvdCw0YHQu9C10LTRg9GO0LzRi9C5INC+0YIg0L/QvtC/0LDQv9CwINC4INC+0YfQuNGJ0LDRjtGJ0LjQuSDQv9C+0LvRjyDRhNC+0YDQvNGLXG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LLRgdGC0LDQstC70Y/RjtGJ0LjQuSDQtNCw0L3QvdGL0LUg0LIg0LjQvNC/0YPRgtGLXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0YHQvtCx0LjRgNCw0Y7RidC40Lkg0LfQvdCw0YfQtdC90LjRjyDQuNC3INCy0YHQtdGFINC/0L7Qu9C10Lkg0LLQstC+0LTQsFxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXRFbGVtZW50Lm5hbWVdID0gaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9O1xuXG4gIC8vINC80LXRgtC+0LQg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNGO0YnQuNC5INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0L3QsCDQv9C+0L/QsNC/INC90LDRgdC70LXQtNGD0LXQvNGL0Lkg0L7RgiDQutC70LDRgdGB0LAg0L/QvtC/0LDQv1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0L7QsdGA0LDQttCw0Y7RidC40Lkg0LfQsNCz0YDRg9C30LrRgyDQtNCw0L3QvdGL0YUg0YfQtdGA0LXQtyDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60Lgg0LTQsNC90L3Ri9GFXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9wZXJtYW5lbnRUZXh0O1xuICAgIH1cbiAgfVxufSIsIi8vINC40LzQv9C+0YDRgiDQutC+0L3RgdGC0LDQvdGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Y3Qu9C10LzQtdC90YLQvtCyINCy0L3Rg9GC0YDQuCDRgtC10LzQv9C70LXQudGC0LAg0LrQsNGA0YLQvtGH0LrQuFxuaW1wb3J0IHsgY2FyZFRlbXBsYXRlU2VsZWN0b3JzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuLy8g0LrQu9Cw0YHRgSDQutCw0YDRgtC+0YfQutC4IC0g0YHQvtC30LTQsNGR0YIg0LrQsNGA0YLQvtGH0LrRgyDRgSDRgtC10LrRgdGC0L7QvCDQuCDRgdGB0YvQu9C60L7QuSDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAvLyDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3RydWN0b3IoZGF0YSwgaGFuZGxlT3BlbkJpZ0ltYWdlLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZVRyYXNoQmluQ2xpY2ssIHRlbXBsYXRlU2VsZWN0b3IsIHVzZXJJZCkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5faGFuZGxlT3BlbkJpZ0ltYWdlID0gaGFuZGxlT3BlbkJpZ0ltYWdlO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVUcmFzaEJpbkNsaWNrID0gaGFuZGxlVHJhc2hCaW5DbGljaztcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9teUlkID0gdXNlcklkO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L/QvtC40YHQutCwINC4INC60LvQvtC90LjRgNC+0LLQsNC90LjRjyDRgNCw0LfQvNC10YLQutC4INC60LDRgNGC0L7Rh9C60LhcbiAgX2dldENhcmRFbGVtZW50KCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmNhcmRFbGVtZW50KVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7QsdC90L7QstC70Y/RjtGJ0LjQuSDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIg0LTQu9GPINGB0YfQtdGC0YfQuNC60LBcbiAgdXBkYXRlTGlrZUNvdW50ZXIobmV3TGlrZSkge1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZS5saWtlcztcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LjQt9C80LXQvdGP0Y7RidC40Lkg0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4INC70LDQudC60LAg0Lgg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyINGB0YfQtdGC0YfQuNC60LBcbiAgdXBkYXRlTGlrZXNWaWV3KCkge1xuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNhcmRUZW1wbGF0ZVNlbGVjdG9ycy5saWtlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShjYXJkVGVtcGxhdGVTZWxlY3RvcnMubGlrZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDQu9Cw0LnQutC90YPRgtCwINC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvFxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fbXlJZCk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDQvdCw0L/QvtC70L3QtdC90LjRjyDQutCw0YDRgtC+0YfQutC4INC90YPQttC90YvQvCDQutC+0L3RgtC10L3RgtC+0LxcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZEVsZW1lbnQoKTtcbiAgICB0aGlzLl9jYXJkUGljdHVyZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmVsZW1lbnRzSW1hZ2UpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmVsZW1lbnRzTmFtZSk7XG4gICAgdGhpcy5fY2FyZFBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkUGljdHVyZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fdHJhc2hCaW4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNhcmRUZW1wbGF0ZVNlbGVjdG9ycy5idXR0b25EZWwpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihjYXJkVGVtcGxhdGVTZWxlY3RvcnMubGlrZWRDb3VudGVyKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihjYXJkVGVtcGxhdGVTZWxlY3RvcnMuYnV0dG9uTGlrZSk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMuX293bmVySWQgIT0gdGhpcy5fbXlJZCkge1xuICAgICAgdGhpcy5fdHJhc2hCaW4ucmVtb3ZlKCk7XG4gICAgfTsgLy8g0LXRgdC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQvdC1INC/0YDQuNC90LDQtNC70LXQttC40YIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOLCDRgtC+INC60L3QvtC/0LrRgyDRg9C00LDQu9C10L3QuNGPINGD0LHRgNCw0YLRjFxuXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmxpa2VkKTtcbiAgICB9OyAvLyDQtdGB0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LvQsNC50LrQsNC7INGN0YLRgyDQutCw0YDRgtC+0YfQutGDLCDRgtC+INC60L3QvtC/0LrQsCDQu9Cw0LnQutCwINC40LfQvNC10L3QuNGC0YHRjyDQvdCwINC90LDQttCw0YLRg9GOXG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINGD0YHRgtCw0L3QvtCy0LrQuCDRgdC70YPRiNCw0YLQtdC70LXQuSDQstC90YPRgtGA0Lgg0LrQsNGA0YLQvtGH0LrQuFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVPcGVuQmlnSW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5fbGluaykpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcykpO1xuICAgIHRoaXMuX3RyYXNoQmluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlVHJhc2hCaW5DbGljayh0aGlzKSk7XG4gIH1cblxuICAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG59IiwiLy8g0LrQu9Cw0YHRgSDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LzRiyAtINC90LDRgdGC0YDQsNC40LLQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIC8vINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LLQsNC70LjQtNCw0YLQvtGA0LBcbiAgY29uc3RydWN0b3Ioe1xuICAgIGZvcm1TZWxlY3RvcixcbiAgICBpbnB1dFNlbGVjdG9yLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3MsXG4gICAgaW5wdXRFcnJvckNsYXNzLFxuICAgIGVycm9yQ2xhc3NcbiAgfSwgZm9ybUVsKSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQv9C+0LrQsNC30YvQstCw0Y7RidC40Lkg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCyINC/0L7Qu9C1INC40LzQv9GD0YLQsFxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDRgdC60YDRi9Cy0LDRjtGJ0LjQuSDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0LIg0L/QvtC70LUg0LjQvNC/0YPRgtCwXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0YDQvtCy0LXRgNGP0Y7RidC40Lkg0L3Rg9C20L3QviDQu9C4INC/0L7QutCw0LfRi9Cy0LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDQtdGB0YLRjCDQu9C4INC+0YjQuNCx0LrQsCDRhdC+0YLRjyDQsdGLINCyINC+0LTQvdC+0Lwg0LjQtyDQv9C+0LvQtdC5XG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9O1xuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC60LvRjtGH0LDRjtGJ0LjQuSDQutC90L7Qv9C60YMg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXG4gIF9kaXNhYmxlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgfVxuICAvLyDQvNC10YLQvtC0INCy0LrQu9GO0YfQsNGO0YnQuNC5INC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcbiAgX2VuYWJsZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgIC8vINC80LXRgtC+0LQg0YPQv9GA0LDQstC70Y/RjtGJ0LjQuSDQv9C+0LLQtdC00LXQvdC40LXQvCDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b25TdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b25TdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7Rh9C40YnQsNGO0YnQuNC5INC/0L7Qu9GPINGE0L7RgNC8INC+0YIg0YHQvtC+0LHRidC10L3QuNC5INC+0LEg0L7RiNC40LHQutCw0YUg0Lgg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDRg9GB0YLQsNC90L7QstC60Lgg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0LIg0L/QvtC70Y/RhSDRhNC+0YDQvNGLXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LfQsNC/0YPRgdC60LDRjtGJ0LjQuSDQstCw0LvQuNC00LDRhtC40Y5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiLy8g0LrQu9Cw0YHRgSDRgdC10LrRhtC40LggLSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtGA0LjRgdC+0LLQutGDINGN0LvQtdC80LXQvdGC0L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LUuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgLy8g0LrQvtC90YHRgtGA0YPQutGC0L7RgCDRgdC10LrRhtC40LhcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xuICAgIC8vIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0YDQuNGB0L7QstGL0LLQsNGO0YnQuNC5INC60LDRgNGC0L7Rh9C60LhcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLmFkZEFwcGVuZEl0ZW0oY2FyZCk7XG4gICAgfSlcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDRjtGJ0LjQuSBET00t0Y3Qu9C10LzQtdC90YIg0Lgg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQtdCz0L4g0L/QvtGB0LvQtSDQv9GA0LXQtNC40LTRg9GJ0LXQs9C+XG4gIGFkZEFwcGVuZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0YDQuNC90LjQvNCw0Y7RidC40LkgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0Y7RidC40Lkg0L/QtdGA0LXQtCDQvtGB0YLQsNC70YzQvdGL0LzQuCDRjdC70LXQvNC10L3RgtCw0LzQuFxuICBhZGRQcmVwZW5kSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCIvLyDQutC70LDRgdGBINGO0LfQtdGA0LjQvdGE0L4gLSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YPQv9GA0LDQstC70LXQvdC40LUg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgLy8g0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQutC70LDRgdGB0LBcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgdXNlckpvYiwgdXNlckF2YXRhciB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcbiAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXIpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQutC+0YLQvtGA0YvQuSDQstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC60L7RgtC+0YDRi9C5INC/0YDQuNC90LjQvNCw0LXRgiDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC40YUg0L3QsCDRgdGC0YDQsNC90LjRhtGDXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG4gICAgdGhpcy5fbXlJZCA9IF9pZDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNGO0YnQuNC5INGD0L3QuNC60LDQu9GM0L3Ri9C5INCw0LnQtNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICByZXR1cm5NeUlkKCkge1xuICAgIHJldHVybiB0aGlzLl9teUlkO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LLRi9C00LDRjtGJ0LjQuSDQvtGI0LjQsdC60YMg0LXRgdC70Lgg0L7RgtCy0LXRgiDQvtGCINGB0LXRgNCy0LXRgNCwINC/0YDQuNGI0LXQuyDRgSDQvtGI0LjQsdC60L7QuVxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQo9C/0YEsINC+0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9LCDRh9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6LmApO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQt9Cw0L/RgNCw0YjQuNCy0LDRjtGJ0LjQuSDRgyDRgdC10YDQstC10YDQsCDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC/0YDQsNCy0LvRj9GO0YnQuNC5INC90LAg0YHQtdGA0LLQtdGAINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0YDQvtGE0LjQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBjaGFuZ2VVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC+0YLQv9GA0LDQstC70Y/RjtGJ0LjQuSDQvdCwINGB0LXRgNCy0LXRgCDQvdC+0LLRi9C5INCw0LLQsNGC0LDRgCDQv9GA0L7RhNC40LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgY2hhbmdlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC30LDQv9GA0LDRiNC40LLQsNGO0YnQuNC5INGDINGB0LXRgNCy0LXRgNCwINC60LDRgNGC0L7Rh9C60Lgg0LTQu9GPINGB0YLRgNCw0L3QuNGG0YtcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC/0YDQsNCy0LvRj9GO0YnQuNC5INC00LDQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4INC+0YIg0LrQu9C40LXQvdGC0LAg0L3QsCDRgdC10YDQstC10YBcbiAgYWRkQ2FyZFNlcnZlcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0YPQtNCw0LvRj9GO0YnQuNC5INC60LDRgNGC0L7Rh9C60YMg0YEg0YHQtdGA0LLQtdGA0LBcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0L/RgNCw0LLQu9GP0Y7RidC40Lkg0L3QsCDRgdC10YDQstC10YAg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQtVxuICBhZGRMaWtlVG9DYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INGD0LTQsNC70Y/RjtGJ0LjQuSDRgSDRgdC10YDQstC10YDQsCDQu9Cw0LnQuiDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV0ZUxpa2VGcm9tQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINGBINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC10Lwg0LTQtdC50YHRgtCy0LjRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8sINC90LDRgdC70LXQtNGD0LXRgiDRh9Cw0YHRgtGMINC80LXRgtC+0LTQvtCyINC+0YIg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L8g0Lgg0Y3QutGB0L/QvtGA0YIg0LXQs9C+INGB0L7QtNC10YDQttC40LzQvtCz0L5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cERlbGV0ZUNvbnRhaW5lcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5fcGVybWFuZW50VGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0Y7RidC40Lkg0LzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPINGA0L7QtNC40YLQtdC70Y8g0LTQu9GPINGC0L7Qs9C+LCDRh9GC0L7QsdGLINCy0YvQt9GL0LLQsNGC0Ywg0LXQs9C+INC90LAg0LrQvtC90LrRgNC10YLQvdC+0Lkg0YPQtNCw0LvRj9C10LzQvtC5INC60LDRgNGC0L7Rh9C60LVcbiAgb3BlblBvcHVwKGNhcmQpIHtcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC+0LHRgNCw0LbQsNGO0YnQuNC5INC30LDQs9GA0YPQt9C60YMg0LTQsNC90L3Ri9GFINGH0LXRgNC10Lcg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQvtGC0L/RgNCw0LLQutC4INC00LDQvdC90YvRhVxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQo9C00LDQu9C10L3QuNC1Li4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fcGVybWFuZW50VGV4dDtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9jYXJkKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINGE0LDQudC70LAg0YHQviDRgdGC0LjQu9GP0LzQuCBDU1NcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LIg0Lgg0LrQvtC90YHRgtCw0L3RglxuaW1wb3J0IHtcbiAgc2VsZWN0b3JzLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBwcm9maWxlRm9ybSxcbiAgYXZhdGFyRm9ybSxcbiAgY2FyZEZvcm0sXG4gIHByb2ZpbGVFZGl0YnV0dG9uLFxuICBhZGRDYXJkQnV0dG9uLFxuICBhdmF0YXJCdXR0b24sXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC40LzQv9C+0YDRgiDQutC70LDRgdGB0L7QslxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5cbi8vINGB0L7Qt9C00LDQtdC8INC60LvQsNGB0YEg0LDQv9C4INC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0LTQsNC90L3Ri9C80Lgg0L7RgiDRgdC10YDQstC10YDQsFxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTUxLycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnYmZhNDBmZmMtYTllNy00YWI2LTgzMzQtMmIzZjQxZjc2OTRiJyxcbiAgICAnY29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxufSk7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyU2VydmVyRGF0YSwgY2FyZHNEYXRhXSkgPT4ge1xuICAgIHVzZXIuc2V0VXNlckluZm8odXNlclNlcnZlckRhdGEpO1xuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhjYXJkc0RhdGEpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGFsZXJ0KGVycik7XG4gIH0pO1xuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7IHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sIHNlbGVjdG9ycy5wbGFjZUZvckNhcmQpO1xuXG4vLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINGE0L7RgNC80Ysg0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHByb2ZpbGVGb3JtKTtcbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBjYXJkRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBjYXJkRm9ybSk7XG5jYXJkRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINGE0L7RgNC80Ysg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGF2YXRhckZvcm0pO1xuYXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDRgdC+0LfQtNCw0LXQvCDQvtCx0LXQutGCINGBINC60LvQsNGB0YHQvtC8INGO0LfQtdGA0LjQvdGE0L5cbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogc2VsZWN0b3JzLnByb2ZpbGVOYW1lLFxuICB1c2VySm9iOiBzZWxlY3RvcnMucHJvZmlsZUpvYixcbiAgdXNlckF2YXRhcjogc2VsZWN0b3JzLkF2YXRhckltZyxcbn0pO1xuXG4vLyDRhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoZGF0YSwgaGFuZGxlT3BlbkJpZ0ltYWdlLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZVRyYXNoQmluQ2xpY2ssIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsIHVzZXIucmV0dXJuTXlJZCgpKTtcbiAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gbmV3Q2FyZEVsZW1lbnQ7XG59XG5cbi8vINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5INC90LAg0LLQtdGB0Ywg0Y3QutGA0LDQvVxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnBvcHVwVmlld1BpY3R1cmUpO1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQvtGA0LAg0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHBvcHVwV2l0aEZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLnBvcHVwUHJvZmlsZSwgaGFuZGxlRWRpdEZvcm1TdWJtaXQpO1xucG9wdXBXaXRoRm9ybVByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0L/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBwb3B1cFdpdGhGb3JtQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wb3B1cENhcmQsIGhhbmRsZUFkZEZvcm1TdWJtaXQpO1xucG9wdXBXaXRoRm9ybUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0L/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IHBvcHVwV2l0aEZvcm1BdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBBdmF0YXIsIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQpO1xucG9wdXBXaXRoRm9ybUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGF2YXRhcikge1xuICBwb3B1cFdpdGhGb3JtQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5jaGFuZ2VBdmF0YXIoYXZhdGFyKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIHBvcHVwV2l0aEZvcm1BdmF0YXIuY2xvc2VQb3B1cCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBXaXRoRm9ybUF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuY29uc3QgcG9wdXBXaXRoRGVsZXRlVmVyaWZpY2F0aW9uID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihzZWxlY3RvcnMucG9wdXBEZWxldGUsIGhhbmRsZVJlbW92ZVN1Ym1pdCk7XG5wb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlUmVtb3ZlU3VibWl0KGNhcmQpIHtcbiAgcG9wdXBXaXRoRGVsZXRlVmVyaWZpY2F0aW9uLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5kZWxldGVDYXJkKGNhcmQuY2FyZElkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgcG9wdXBXaXRoRGVsZXRlVmVyaWZpY2F0aW9uLmNsb3NlUG9wdXAoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBXaXRoRGVsZXRlVmVyaWZpY2F0aW9uLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGRhdGEpIHtcbiAgcG9wdXBXaXRoRm9ybVByb2ZpbGUucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmNoYW5nZVVzZXJJbmZvKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlci5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgcG9wdXBXaXRoRm9ybVByb2ZpbGUuY2xvc2VQb3B1cCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGFsZXJ0KGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhGb3JtUHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkRm9ybVN1Ym1pdChkYXRhKSB7XG4gIHBvcHVwV2l0aEZvcm1DYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5hZGRDYXJkU2VydmVyKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZFByZXBlbmRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XG4gICAgICBwb3B1cFdpdGhGb3JtQ2FyZC5jbG9zZVBvcHVwKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgYWxlcnQoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwV2l0aEZvcm1DYXJkLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5CaWdJbWFnZShuYW1lLCBsaW5rKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW5Qb3B1cChuYW1lLCBsaW5rKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgaWYgKCFjYXJkLmlzTGlrZWQoKSkge1xuICAgIGFwaVxuICAgICAgLmFkZExpa2VUb0NhcmQoY2FyZC5jYXJkSWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQudXBkYXRlTGlrZUNvdW50ZXIocmVzKTtcbiAgICAgICAgY2FyZC51cGRhdGVMaWtlc1ZpZXcoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBhbGVydChlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlTGlrZUZyb21DYXJkKGNhcmQuY2FyZElkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjYXJkLnVwZGF0ZUxpa2VDb3VudGVyKHJlcyk7XG4gICAgICAgIGNhcmQudXBkYXRlTGlrZXNWaWV3KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRyYXNoQmluQ2xpY2soY2FyZCkge1xuICBwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24ub3BlblBvcHVwKGNhcmQpO1xufVxuXG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwb3B1cFdpdGhGb3JtQXZhdGFyLm9wZW5Qb3B1cCgpO1xufSk7XG5cbi8vINC/0L7QtNC60LvRjtGH0LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9GPINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5wcm9maWxlRWRpdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBXaXRoRm9ybVByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlci5nZXRVc2VySW5mbygpKTtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwb3B1cFdpdGhGb3JtUHJvZmlsZS5vcGVuUG9wdXAoKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjYXJkRm9ybVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBvcHVwV2l0aEZvcm1DYXJkLm9wZW5Qb3B1cCgpO1xufSk7Il0sIm5hbWVzIjpbImNhcmRUZW1wbGF0ZVNlbGVjdG9ycyIsInNlbGVjdG9ycyIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXZhdGFyRm9ybSIsImF2YXRhckJ1dHRvbiIsInByb2ZpbGVFZGl0YnV0dG9uIiwiY2FyZEZvcm0iLCJhZGRDYXJkQnV0dG9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0Iiwia2V5IiwiY2xvc2VQb3B1cCIsInRoaXMiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZVBvcHVwT25Fc2MiLCJiaW5kIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9jbG9zZVBvcHVwQnlDbGljayIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1nUGljdHVyZSIsIl90aXRsZU9mUG9wdXBJbWciLCJuYW1lIiwibGluayIsImFsdCIsInRleHRDb250ZW50Iiwic3JjIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9wZXJtYW5lbnRUZXh0IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNldCIsImRhdGEiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsIl9mb3JtVmFsdWVzIiwiaW5wdXRFbGVtZW50IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpc0xvYWRpbmciLCJDYXJkIiwiaGFuZGxlT3BlbkJpZ0ltYWdlIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlVHJhc2hCaW5DbGljayIsInRlbXBsYXRlU2VsZWN0b3IiLCJ1c2VySWQiLCJfZGF0YSIsImNhcmRJZCIsIl9pZCIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaGFuZGxlT3BlbkJpZ0ltYWdlIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVUcmFzaEJpbkNsaWNrIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfbXlJZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJuZXdMaWtlIiwiX2xpa2VDb3VudGVyIiwibGVuZ3RoIiwiaXNMaWtlZCIsIl9saWtlQnV0dG9uIiwic29tZSIsIml0ZW0iLCJfY2FyZEVsZW1lbnQiLCJfZ2V0Q2FyZEVsZW1lbnQiLCJfY2FyZFBpY3R1cmUiLCJfY2FyZFRpdGxlIiwiX3RyYXNoQmluIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbCIsInZhbGlkaXR5IiwidmFsaWQiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJfYnV0dG9uRWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVCdXR0b25TdGF0ZSIsIl9lbmFibGVCdXR0b25TdGF0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImNhcmQiLCJhZGRBcHBlbmRJdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckpvYiIsInVzZXJBdmF0YXIiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl9hdmF0YXIiLCJhYm91dCIsImF2YXRhciIsIkFwaSIsImNvbmZpZyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2NhcmQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyU2VydmVyRGF0YSIsImNhcmRzRGF0YSIsInVzZXIiLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJhbGVydCIsImNyZWF0ZUNhcmQiLCJwcm9maWxlRm9ybVZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZEZvcm1WYWxpZGF0aW9uIiwiYXZhdGFyRm9ybVZhbGlkYXRpb24iLCJyZXR1cm5NeUlkIiwiZ2VuZXJhdGVDYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwV2l0aEZvcm1Qcm9maWxlIiwicmVuZGVyTG9hZGluZyIsImNoYW5nZVVzZXJJbmZvIiwiZmluYWxseSIsInBvcHVwV2l0aEZvcm1DYXJkIiwiYWRkQ2FyZFNlcnZlciIsImFkZFByZXBlbmRJdGVtIiwicG9wdXBXaXRoRm9ybUF2YXRhciIsImNoYW5nZUF2YXRhciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24iLCJkZWxldGVDYXJkIiwib3BlblBvcHVwIiwiZGVsZXRlTGlrZUZyb21DYXJkIiwidXBkYXRlTGlrZUNvdW50ZXIiLCJ1cGRhdGVMaWtlc1ZpZXciLCJhZGRMaWtlVG9DYXJkIiwicmVzZXRWYWxpZGF0aW9uIiwic2V0SW5wdXRWYWx1ZXMiXSwic291cmNlUm9vdCI6IiJ9