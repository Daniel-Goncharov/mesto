(()=>{"use strict";var e="element__like-button_active",t=".popup_type_profile",n=".profile__name",r=".profile__job",o=".popup_type_add-card",i="popup_opened",u=".popup__button",a=".popup_type_view-picture",c=".popup__picture",s=".popup__picture-title",l={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},p=document.querySelector(".popup__form_type_profile"),f=document.querySelector(".popup__form_type_add-avatar"),h=document.querySelector(".profile__avatar-button"),d=document.querySelector(".profile__edit-button"),_=(document.querySelector(t).querySelector(u),document.querySelector(".popup__input_data_name")),y=document.querySelector(".popup__input_data_job"),b=(document.querySelector(n),document.querySelector(r),document.querySelector(".popup__form_type_add-card")),v=document.querySelector(".profile__add-button");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}document.querySelector(o),document.querySelector(".popup__input_data_place-name"),document.querySelector(".popup__input_data_place-url"),document.querySelector(a),document.querySelector(c),document.querySelector(s);var k=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.closePopup()},(n="_closePopupOnEsc")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupSelector=t,this._popup=document.querySelector(t),this._closePopupOnEsc=this._closePopupOnEsc.bind(this)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add(i),document.addEventListener("keydown",this._closePopupOnEsc)}},{key:"closePopup",value:function(){this._popup.classList.remove(i),document.removeEventListener("keydown",this._closePopupOnEsc)}},{key:"_closePopupByClick",value:function(e){(e.target.classList.contains("popup__closed-button")||e.target.classList.contains("popup"))&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){e._closePopupByClick(t)}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImgPicture=t._popup.querySelector(c),t._titleOfPopupImg=t._popup.querySelector(s),t}return t=u,(n=[{key:"openPopup",value:function(e,t){E(L(u.prototype),"openPopup",this).call(this),this._popupImgPicture.alt=e,this._titleOfPopupImg.textContent=e,this._popupImgPicture.src=t}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(k);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function T(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleSubmitForm=t,n._form=n._popup.querySelector(".popup__form"),n._submitButton=n._form.querySelector(u),n._permanentText=n._submitButton.textContent,n._inputList=Array.from(n._popup.querySelectorAll(".popup__input")),n}return t=a,(n=[{key:"closePopup",value:function(){this._form.reset(),B(x(a.prototype),"closePopup",this).call(this)}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;B(x(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues())}))}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Сохранение...":this._permanentText}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function t(e,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this.cardId=e._id,this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._handleOpenBigImage=n,this._handleLikeClick=r,this._handleTrashBinClick=o,this._templateSelector=i,this._myId=u}var n,r;return n=t,(r=[{key:"_getCardElement",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"updateLikeCounter",value:function(e){this._likes=e.likes}},{key:"updateLikesView",value:function(){this._likeCounter.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add(e):this._likeButton.classList.remove(e)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._myId}))}},{key:"generateCard",value:function(){return this._cardElement=this._getCardElement(),this._cardPicture=this._cardElement.querySelector(".element__picture"),this._cardTitle=this._cardElement.querySelector(".element__title"),this._cardPicture.src=this._link,this._cardPicture.alt=this._name,this._cardTitle.textContent=this._name,this._trashBin=this._cardElement.querySelector(".element__delete"),this._likeCounter=this._cardElement.querySelector(".element__like-counter"),this._likeButton=this._cardElement.querySelector(".element__like-button"),this._likeCounter.textContent=this._likes.length,this._ownerId!=this._myId&&this._trashBin.remove(),this.isLiked()&&this._likeButton.classList.add(e),this._setEventListeners(),this._cardElement}},{key:"_setEventListeners",value:function(){var e=this;this._cardPicture.addEventListener("click",(function(){return e._handleOpenBigImage(e._name,e._link)})),this._likeButton.addEventListener("click",(function(){return e._handleLikeClick(e)})),this._trashBin.addEventListener("click",(function(){return e._handleTrashBinClick(e)}))}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}}])&&A(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(t,n){var r,o,i=this,u=t.formSelector,a=t.inputSelector,c=t.submitButtonSelector,s=t.inactiveButtonClass,l=t.inputErrorClass,p=t.errorClass;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){return i._inputList.some((function(e){return!e.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=u,this._inputSelector=a,this._submitButtonSelector=c,this._inactiveButtonClass=s,this._inputErrorClass=l,this._errorClass=p,this._formEl=n,this._inputList=Array.from(this._formEl.querySelectorAll(this._inputSelector)),this._buttonElement=this._formEl.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formEl.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.classList.add(this._errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formEl.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_disableButtonState",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","disabled")}},{key:"_enableButtonState",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButtonState():this._enableButtonState()}},{key:"resetForm",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners(this._formEl)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){var n=t._renderer(e);t.addAppendItem(n)}))}},{key:"addAppendItem",value:function(e){this._container.append(e)}},{key:"addPrependItem",value:function(e){this._container.prepend(e)}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){var n=t.userNameSelector,r=t.userJobSelector,o=t.userAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameSelector=document.querySelector(n),this._userJobSelector=document.querySelector(r),this._avatarSelector=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameSelector.textContent,about:this._userJobSelector.textContent,avatar:this._avatarSelector.src}}},{key:"setUserInfo",value:function(e){this._myId=e._id,this._userNameSelector.textContent=e.name,this._userJobSelector.textContent=e.about,this._avatarSelector.src=e.avatar}},{key:"returnMyId",value:function(){return this._myId}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Упс, ошибка ".concat(e.status,", что-то пошло не так."))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"changeUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"changeAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addCardServer",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLikeToCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteLikeFromCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=W(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Q.apply(this,arguments)}function W(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Y(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Y(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__container_type_delete"),n._submitButton=n._form.querySelector(u),n._handleSubmitForm=t,n._permanentText=n._submitButton.textContent,n}return t=a,(n=[{key:"openPopup",value:function(e){Q(Z(a.prototype),"openPopup",this).call(this),this._card=e}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Удаление...":this._permanentText}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._card)})),Q(Z(a.prototype),"setEventListeners",this).call(this)}}])&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=new z({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-51/",headers:{authorization:"bfa40ffc-a9e7-4ab6-8334-2b3f41f7694b","content-Type":"application/json"}});Promise.all([ne.getUserInfo(),ne.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ae.setUserInfo(o),re.renderItems(i)})).catch((function(e){alert(e)}));var re=new J({renderer:ce},".elements__container"),oe=new F(l,p);oe.enableValidation();var ie=new F(l,b);ie.enableValidation();var ue=new F(l,f);ue.enableValidation();var ae=new G({userNameSelector:n,userJobSelector:r,userAvatarSelector:".profile__pic"});function ce(e){return new V(e,de,_e,ye,".template",ae.returnMyId()).generateCard()}var se=new C(a);se.setEventListeners();var le=new U(t,(function(e){le.renderLoading(!0),ne.changeUserInfo(e).then((function(e){ae.setUserInfo(e),le.closePopup()})).catch((function(e){alert(e)})).finally((function(){le.renderLoading(!1)}))}));le.setEventListeners();var pe=new U(o,(function(e){pe.renderLoading(!0),ne.addCardServer(e).then((function(e){re.addPrependItem(ce(e)),pe.closePopup()})).catch((function(e){alert(e)})).finally((function(){pe.renderLoading(!1)}))}));pe.setEventListeners();var fe=new U(".popup_type_add-avatar",(function(e){fe.renderLoading(!0),ne.changeAvatar(e).then((function(e){ae.setUserInfo(e),fe.closePopup()})).catch((function(e){return console.log(e)})).finally((function(){fe.renderLoading(!1)}))}));fe.setEventListeners();var he=new ee(".popup_type_delete",(function(e){he.renderLoading(!0),ne.deleteCard(e.cardId).then((function(){e.deleteCard(),he.closePopup()})).catch((function(e){alert(e)})).finally((function(){he.renderLoading(!1)}))}));function de(e,t){se.openPopup(e,t)}function _e(e){e.isLiked()?ne.deleteLikeFromCard(e.cardId).then((function(t){e.updateLikeCounter(t),e.updateLikesView()})).catch((function(e){alert(e)})):ne.addLikeToCard(e.cardId).then((function(t){e.updateLikeCounter(t),e.updateLikesView()})).catch((function(e){alert(e)}))}function ye(e){he.openPopup(e)}he.setEventListeners(),h.addEventListener("click",(function(){ue.resetForm(),fe.openPopup()})),d.addEventListener("click",(function(){var e=ae.getUserInfo(),t=e.name,n=e.about;_.value=t,y.value=n,oe.resetForm(),le.openPopup()})),v.addEventListener("click",(function(){ie.resetForm(),pe.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S3lFLGtCQUFrQnJELEdBQ3ZCcEIsRUFBSzBFLGlCQUNOLElBQ0E1QixPQUFNLFNBQUNDLEdBQ05DLE1BQU1ELEVBQ1AsR0FZTixDQUVELFNBQVM5RyxHQUFvQitELEdBQzNCcUUsR0FBNEJFLFVBQVV2RSxFQUN2QyxDQWhGRHFFLEdBQTRCWixvQkFrRjVCOUssRUFBYWtCLGlCQUFpQixTQUFTLFdBQ3JDd0osR0FBcUJ1QixZQUNyQlgsR0FBb0JNLFdBQ3JCLElBR0QzTCxFQUFrQmlCLGlCQUFpQixTQUFTLFdBQzFDLE1BQXdCNkksR0FBS0osY0FBckJoSSxFQUFSLEVBQVFBLEtBQU1zRyxFQUFkLEVBQWNBLE1BQ2QvSCxFQUFVNEMsTUFBUW5CLEVBQ2xCeEIsRUFBUzJDLE1BQVFtRixFQUNqQnNDLEdBQXNCMEIsWUFDdEJsQixHQUFxQmEsV0FDdEIsSUFFRHZMLEVBQWNhLGlCQUFpQixTQUFTLFdBQ3RDdUosR0FBbUJ3QixZQUNuQmQsR0FBa0JTLFdBQ25CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINC60L7QvdGB0YLQsNC90YLQsCDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INGN0LvQtdC80LXQvdGC0L7QsiDQstC90YPRgtGA0Lgg0YLQtdC80L/Qu9C10LnRgtCwINC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvcnMgPSB7XG4gIGNhcmRFbGVtZW50OiAnLmVsZW1lbnQnLFxuICBlbGVtZW50c0ltYWdlOiAnLmVsZW1lbnRfX3BpY3R1cmUnLFxuICBlbGVtZW50c05hbWU6ICcuZWxlbWVudF9fdGl0bGUnLFxuICBidXR0b25MaWtlOiAnLmVsZW1lbnRfX2xpa2UtYnV0dG9uJyxcbiAgYnV0dG9uRGVsOiAnLmVsZW1lbnRfX2RlbGV0ZScsXG4gIGxpa2VkOiAnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyxcbiAgbGlrZWRDb3VudGVyOiAnLmVsZW1lbnRfX2xpa2UtY291bnRlcicsXG59XG5cbi8vINC60L7QvdGB0YLQsNC90YLQsCDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4XG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xuICBjYXJkVGVtcGxhdGU6ICcudGVtcGxhdGUnLFxuICBwbGFjZUZvckNhcmQ6ICcuZWxlbWVudHNfX2NvbnRhaW5lcicsXG4gIGVkaXRQcm9maWxlQnV0dG9uOiAnLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyxcbiAgcG9wdXBEZWxldGU6ICcucG9wdXBfdHlwZV9kZWxldGUnLFxuICBwb3B1cFByb2ZpbGU6ICcucG9wdXBfdHlwZV9wcm9maWxlJyxcbiAgcG9wdXBBdmF0YXI6ICcucG9wdXBfdHlwZV9hZGQtYXZhdGFyJyxcbiAgYXZhdGFyQnRuOiAnLnByb2ZpbGVfX2F2YXRhci1idXR0b24nLFxuICBBdmF0YXJJbWc6ICcucHJvZmlsZV9fcGljJyxcbiAgZm9ybUF2YXRhcjogJy5wb3B1cF9fZm9ybV90eXBlX2FkZC1hdmF0YXInLFxuICBmb3JtUHJvZmlsZTogJy5wb3B1cF9fZm9ybV90eXBlX3Byb2ZpbGUnLFxuICBwcm9maWxlTmFtZTogJy5wcm9maWxlX19uYW1lJyxcbiAgcHJvZmlsZUpvYjogJy5wcm9maWxlX19qb2InLFxuICBuYW1lSW5wdXQ6ICcucG9wdXBfX2lucHV0X2RhdGFfbmFtZScsXG4gIGpvYklucHV0OiAnLnBvcHVwX19pbnB1dF9kYXRhX2pvYicsXG4gIGFkZENhcmRCdXR0b246ICcucHJvZmlsZV9fYWRkLWJ1dHRvbicsXG4gIHBvcHVwQ2FyZDogJy5wb3B1cF90eXBlX2FkZC1jYXJkJyxcbiAgZm9ybUNhcmQ6ICcucG9wdXBfX2Zvcm1fdHlwZV9hZGQtY2FyZCcsXG4gIG5hbWVDYXJkOiAnLnBvcHVwX19pbnB1dF9kYXRhX3BsYWNlLW5hbWUnLFxuICBsaW5rQ2FyZDogJy5wb3B1cF9faW5wdXRfZGF0YV9wbGFjZS11cmwnLFxuICBwb3B1cDogJ3BvcHVwJyxcbiAgcG9wdXBPcGVuZWQ6ICdwb3B1cF9vcGVuZWQnLFxuICBjbG9zZWRCdXR0b246ICdwb3B1cF9fY2xvc2VkLWJ1dHRvbicsXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIHBvcHVwRGVsZXRlQ29udGFpbmVyOiAnLnBvcHVwX19jb250YWluZXJfdHlwZV9kZWxldGUnLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyxcbiAgcG9wdXBWaWV3UGljdHVyZTogJy5wb3B1cF90eXBlX3ZpZXctcGljdHVyZScsXG4gIHBvcHVwUGljdHVyZTogJy5wb3B1cF9fcGljdHVyZScsXG4gIHBvcHVwVGl0bGU6ICcucG9wdXBfX3BpY3R1cmUtdGl0bGUnLFxufVxuXG4vLyDRgdC+0L3RgdGC0LDQvdGC0LAg0YEg0YHQtdC70LXQutGC0L7RgNCw0LzQuCDQtNC70Y8g0LLQsNC70LjQtNC40LfQsNGG0LjQuCDRhNC+0YDQvFxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXG59O1xuXG4vLyDQutC+0L3RgdGC0LDQvdGC0Ysg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmZvcm1Qcm9maWxlKTsgLy8g0YTQvtGA0LzQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmZvcm1BdmF0YXIpOyAvLyDRhNC+0YDQvNCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5hdmF0YXJCdG4pOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0YnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZWRpdFByb2ZpbGVCdXR0b24pOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnBvcHVwUHJvZmlsZSk7IC8vINC/0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25FbGVtZW50ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTsgLy8g0LrQvdC+0L/QutCwINC+0YLQv9GA0LDQstC60Lgg0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5uYW1lSW5wdXQpOyAvLyDQv9C+0LvQtSDQstCy0L7QtNCwINC40LzQtdC90Lgg0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmpvYklucHV0KTsgLy8g0L/QvtC70LUg0LLQstC+0LTQsCDRgNC+0LTQsCDQt9Cw0L3QuNGP0YLQuNC5INC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wcm9maWxlTmFtZSk7IC8vIGRvbSDRjdC70LXQvNC10L3RgiDQv9C+0LrQsNC30YvQstCw0Y7RidC40Lkg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wcm9maWxlSm9iKTsgLy8gZG9tINGN0LvQtdC80LXQvdGCINC/0L7QutCw0LfRi9Cy0LDRjtGJ0LjQuSDRgNC+0LQg0LfQsNC90Y/RgtC40Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5cbi8vINC60L7QvdGB0YLQsNC90YLRiyDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZm9ybUNhcmQpOyAvLyDRhNC+0YDQvNCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5hZGRDYXJkQnV0dG9uKTsgLy8g0LrQvdC+0L/QutCwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCBwb3B1cENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cENhcmQpOyAvLyDQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCBuYW1lQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLm5hbWVDYXJkKTsgLy8g0L/QvtC70LUg0LLQstC+0LTQsCDQvdCw0LfQstCw0L3QuNGPINC80LXRgdGC0LAg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGxpbmtDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMubGlua0NhcmQpOyAvLyDQv9C+0LvQtSDQstCy0L7QtNCwINGB0YHRi9C70LrQuCDQvdCwINC60LDRgNGC0LjQvdC60YMg0LrQsNGA0YLQvtGH0LrQuFxuXG4vLyDQutC+0L3RgdGC0LDQvdGC0Ysg0L/QvtC/0LDQv9CwINGBINGD0LLQtdC70LjRh9C10L3QvdC+0Lkg0LrQsNGA0YLQuNC90LrQvtC5INC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCBwb3B1cFZpZXdQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBWaWV3UGljdHVyZSk7IC8vINC/0L7Qv9Cw0L8g0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC4XG5leHBvcnQgY29uc3QgcG9wdXBJbWdQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBQaWN0dXJlKTsgLy8g0YPQstC10LvQuNGH0LXQvdC90LDRjyDQutCw0YDRgtC40L3QutCwXG5leHBvcnQgY29uc3QgY2FwdGlvbk9mUG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cFRpdGxlKTsgLy8g0L/QvtC00L/QuNGB0Ywg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC4IiwiLy8g0LjQvNC/0L7RgNGCINGB0LXQu9C10LrRgtC+0YDQvtCyXG5pbXBvcnQgeyBzZWxlY3RvcnMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG4vLyDQutC70LDRgdGBINC/0L7Qv9Cw0L/QsCDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC60YDRi9GC0LjQtSDQuCDQt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICAvLyDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC/0L7Qv9Cw0L/QsFxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlUG9wdXBPbkVzYyA9IHRoaXMuX2Nsb3NlUG9wdXBPbkVzYy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0LrRgNGL0LLQsNGO0YnQuNC5INC/0L7Qv9Cw0L9cbiAgb3BlblBvcHVwKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoc2VsZWN0b3JzLnBvcHVwT3BlbmVkKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VQb3B1cE9uRXNjKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LfQsNC60YDRi9Cy0LDRjtGJ0LjQuSDQv9C+0L/QsNC/XG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShzZWxlY3RvcnMucG9wdXBPcGVuZWQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZVBvcHVwT25Fc2MpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0LLQsNGO0YnQuNC5INC/0L7Qv9Cw0L8g0L3QsNC20LDRgtC40LXQvCDQvdCwIGVzY2FwZVxuICBfY2xvc2VQb3B1cE9uRXNjID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0LLQsNGO0YnQuNC5INC/0L7Qv9Cw0L8g0L/QviDQutC70LjQutGDINC80YvRiNC60L7QuVxuICBfY2xvc2VQb3B1cEJ5Q2xpY2soZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHNlbGVjdG9ycy5jbG9zZWRCdXR0b24pIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHNlbGVjdG9ycy5wb3B1cCkpXG4gICAge1xuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0YPRgdGC0LDQvdC+0LLQutCwINGB0LvRg9GI0LDRgtC10LvRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QvtCyINC/0L4g0LrQu9C40LrRgyDQvNGL0YjQutC+0LlcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9jbG9zZVBvcHVwQnlDbGljayhldnQpO1xuICAgIH0pO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINGBINC60LDRgNGC0LjQvdC60L7QuSDQvtGC0LrRgNGL0LLQsNC10YIg0LrQsNGA0YLQuNC90LrRgyDQuNC3INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDQstC10YHRjCDRjdC60YDQsNC9INC4INC90LDRgdC70LXQtNGD0LXRgiDRh9Cw0YHRgtGMINC80LXRgtC+0LTQvtCyINC+0YIg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWdQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBQaWN0dXJlKTtcbiAgICB0aGlzLl90aXRsZU9mUG9wdXBJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cFRpdGxlKTtcbiAgfVxuXG4gIC8vINC/0LXRgNC10LfQsNC/0LjRgdGMINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC80LXRgtC+0LTQsC4g0KLQtdC/0LXRgNGMINC+0L0g0L7RgtC60YDRi9Cy0LDQtdGCINC60LDRgNGC0LjQvdC60YMg0LjQtyDQutCw0YDRgtC+0YfQutC4INC90LAg0LLQtdGB0Ywg0Y3QutGA0LDQvSDRgSDQv9C+0LTQv9C40YHRjNGOXG4gIG9wZW5Qb3B1cChuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlblBvcHVwKCk7XG4gICAgdGhpcy5fcG9wdXBJbWdQaWN0dXJlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fdGl0bGVPZlBvcHVwSW1nLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cEltZ1BpY3R1cmUuc3JjID0gbGluaztcbiAgfVxufSIsIi8vINC40LzQv9C+0YDRgiDQutC70LDRgdGB0LAg0L/QvtC/0LDQv1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xuLy8g0LjQvNC/0L7RgNGCINGB0LXQu9C10LrRgtC+0YDQvtCyXG5pbXBvcnQgeyBzZWxlY3RvcnMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG4vLyDQutC70LDRgdGBINC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YDQvNC+0LkgLSDQtNC+0LHQsNCy0LvRj9C10YIg0LrQu9Cw0YHRgdGDINC/0L7Qv9Cw0L8g0LzQtdGC0L7QtNGLINC/0L4g0YHQsdC+0YDRgyDQtNCw0L3QvdGL0YUg0LjQtyDQv9C+0LvQtdC5INC40LzQv9GD0YLQsCDQuCDQuNGFINC+0LHRgNCw0LHQvtGC0LrQtSDQuCDQvdCw0YHQu9C10LTRg9C10YIg0YfQsNGB0YLRjCDQvNC10YLQvtC00L7QsiDQvtGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/INC4INGN0LrRgdC/0L7RgNGCINC10LPQviDRgdC+0LTQtdGA0LbQuNC80L7Qs9C+XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAvLyDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/INGBINGE0L7RgNC80L7QuVxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fcGVybWFuZW50VGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YEg0YTQvtC80L7QuSDQvdCw0YHQu9C10LTRg9GO0LzRi9C5INC+0YIg0L/QvtC/0LDQv9CwINC4INC+0YfQuNGJ0LDRjtGJ0LjQuSDQv9C+0LvRjyDRhNC+0YDQvNGLXG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0YHQvtCx0LjRgNCw0Y7RidC40Lkg0LfQvdCw0YfQtdC90LjRjyDQuNC3INCy0YHQtdGFINC/0L7Qu9C10Lkg0LLQstC+0LTQsFxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXRFbGVtZW50Lm5hbWVdID0gaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9O1xuXG4gIC8vINC80LXRgtC+0LQg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNGO0YnQuNC5INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0L3QsCDQv9C+0L/QsNC/INC90LDRgdC70LXQtNGD0LXQvNGL0Lkg0L7RgiDQutC70LDRgdGB0LAg0L/QvtC/0LDQv1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0L7QsdGA0LDQttCw0Y7RidC40Lkg0LfQsNCz0YDRg9C30LrRgyDQtNCw0L3QvdGL0YUg0YfQtdGA0LXQtyDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60Lgg0LTQsNC90L3Ri9GFXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9wZXJtYW5lbnRUZXh0O1xuICAgIH1cbiAgfVxufSIsIi8vINC40LzQv9C+0YDRgiDQutC+0L3RgdGC0LDQvdGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Y3Qu9C10LzQtdC90YLQvtCyINCy0L3Rg9GC0YDQuCDRgtC10LzQv9C70LXQudGC0LAg0LrQsNGA0YLQvtGH0LrQuFxuaW1wb3J0IHsgY2FyZFRlbXBsYXRlU2VsZWN0b3JzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuLy8g0LrQu9Cw0YHRgSDQutCw0YDRgtC+0YfQutC4IC0g0YHQvtC30LTQsNGR0YIg0LrQsNGA0YLQvtGH0LrRgyDRgSDRgtC10LrRgdGC0L7QvCDQuCDRgdGB0YvQu9C60L7QuSDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAvLyDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3RydWN0b3IoZGF0YSwgaGFuZGxlT3BlbkJpZ0ltYWdlLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZVRyYXNoQmluQ2xpY2ssIHRlbXBsYXRlU2VsZWN0b3IsIHVzZXJJZCkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5faGFuZGxlT3BlbkJpZ0ltYWdlID0gaGFuZGxlT3BlbkJpZ0ltYWdlO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVUcmFzaEJpbkNsaWNrID0gaGFuZGxlVHJhc2hCaW5DbGljaztcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9teUlkID0gdXNlcklkO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L/QvtC40YHQutCwINC4INC60LvQvtC90LjRgNC+0LLQsNC90LjRjyDRgNCw0LfQvNC10YLQutC4INC60LDRgNGC0L7Rh9C60LhcbiAgX2dldENhcmRFbGVtZW50KCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmNhcmRFbGVtZW50KVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7QsdC90L7QstC70Y/RjtGJ0LjQuSDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIg0LTQu9GPINGB0YfQtdGC0YfQuNC60LBcbiAgdXBkYXRlTGlrZUNvdW50ZXIobmV3TGlrZSkge1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZS5saWtlcztcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LjQt9C80LXQvdGP0Y7RidC40Lkg0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4INC70LDQudC60LAg0Lgg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyINGB0YfQtdGC0YfQuNC60LBcbiAgdXBkYXRlTGlrZXNWaWV3KCkge1xuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNhcmRUZW1wbGF0ZVNlbGVjdG9ycy5saWtlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShjYXJkVGVtcGxhdGVTZWxlY3RvcnMubGlrZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDQu9Cw0LnQutC90YPRgtCwINC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvFxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fbXlJZCk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDQvdCw0L/QvtC70L3QtdC90LjRjyDQutCw0YDRgtC+0YfQutC4INC90YPQttC90YvQvCDQutC+0L3RgtC10L3RgtC+0LxcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZEVsZW1lbnQoKTtcbiAgICB0aGlzLl9jYXJkUGljdHVyZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmVsZW1lbnRzSW1hZ2UpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmVsZW1lbnRzTmFtZSk7XG4gICAgdGhpcy5fY2FyZFBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkUGljdHVyZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fdHJhc2hCaW4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNhcmRUZW1wbGF0ZVNlbGVjdG9ycy5idXR0b25EZWwpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihjYXJkVGVtcGxhdGVTZWxlY3RvcnMubGlrZWRDb3VudGVyKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihjYXJkVGVtcGxhdGVTZWxlY3RvcnMuYnV0dG9uTGlrZSk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMuX293bmVySWQgIT0gdGhpcy5fbXlJZCkge1xuICAgICAgdGhpcy5fdHJhc2hCaW4ucmVtb3ZlKCk7XG4gICAgfTsgLy8g0LXRgdC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQvdC1INC/0YDQuNC90LDQtNC70LXQttC40YIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOLCDRgtC+INC60L3QvtC/0LrRgyDRg9C00LDQu9C10L3QuNGPINGD0LHRgNCw0YLRjFxuXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2FyZFRlbXBsYXRlU2VsZWN0b3JzLmxpa2VkKTtcbiAgICB9OyAvLyDQtdGB0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LvQsNC50LrQsNC7INGN0YLRgyDQutCw0YDRgtC+0YfQutGDLCDRgtC+INC60L3QvtC/0LrQsCDQu9Cw0LnQutCwINC40LfQvNC10L3QuNGC0YHRjyDQvdCwINC90LDQttCw0YLRg9GOXG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINGD0YHRgtCw0L3QvtCy0LrQuCDRgdC70YPRiNCw0YLQtdC70LXQuSDQstC90YPRgtGA0Lgg0LrQsNGA0YLQvtGH0LrQuFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVPcGVuQmlnSW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5fbGluaykpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcykpO1xuICAgIHRoaXMuX3RyYXNoQmluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlVHJhc2hCaW5DbGljayh0aGlzKSk7XG4gIH1cblxuICAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG59IiwiLy8g0LrQu9Cw0YHRgSDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LzRiyAtINC90LDRgdGC0YDQsNC40LLQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIC8vINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LLQsNC70LjQtNCw0YLQvtGA0LBcbiAgY29uc3RydWN0b3Ioe1xuICAgIGZvcm1TZWxlY3RvcixcbiAgICBpbnB1dFNlbGVjdG9yLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3MsXG4gICAgaW5wdXRFcnJvckNsYXNzLFxuICAgIGVycm9yQ2xhc3NcbiAgfSwgZm9ybUVsKSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQv9C+0LrQsNC30YvQstCw0Y7RidC40Lkg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCyINC/0L7Qu9C1INC40LzQv9GD0YLQsFxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDRgdC60YDRi9Cy0LDRjtGJ0LjQuSDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0LIg0L/QvtC70LUg0LjQvNC/0YPRgtCwXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0YDQvtCy0LXRgNGP0Y7RidC40Lkg0L3Rg9C20L3QviDQu9C4INC/0L7QutCw0LfRi9Cy0LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDQtdGB0YLRjCDQu9C4INC+0YjQuNCx0LrQsCDRhdC+0YLRjyDQsdGLINCyINC+0LTQvdC+0Lwg0LjQtyDQv9C+0LvQtdC5XG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9O1xuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC60LvRjtGH0LDRjtGJ0LjQuSDQutC90L7Qv9C60YMg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXG4gIF9kaXNhYmxlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgfVxuICAvLyDQvNC10YLQvtC0INCy0LrQu9GO0YfQsNGO0YnQuNC5INC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcbiAgX2VuYWJsZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgIC8vINC80LXRgtC+0LQg0YPQv9GA0LDQstC70Y/RjtGJ0LjQuSDQv9C+0LLQtdC00LXQvdC40LXQvCDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b25TdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b25TdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7Rh9C40YnQsNGO0YnQuNC5INC/0L7Qu9GPINGE0L7RgNC8INC+0YIg0YHQvtC+0LHRidC10L3QuNC5INC+0LEg0L7RiNC40LHQutCw0YUg0Lgg0L/RgNC+0LLQtdGA0Y/RjtGJ0LjQuSDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4XG4gIHJlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDRg9GB0YLQsNC90L7QstC60Lgg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0LIg0L/QvtC70Y/RhSDRhNC+0YDQvNGLXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LfQsNC/0YPRgdC60LDRjtGJ0LjQuSDQstCw0LvQuNC00LDRhtC40Y5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybUVsKTtcbiAgfTtcbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiLy8g0LrQu9Cw0YHRgSDRgdC10LrRhtC40LggLSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtGA0LjRgdC+0LLQutGDINGN0LvQtdC80LXQvdGC0L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LUuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgLy8g0LrQvtC90YHRgtGA0YPQutGC0L7RgCDRgdC10LrRhtC40LhcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xuICAgIC8vIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0YDQuNGB0L7QstGL0LLQsNGO0YnQuNC5INC60LDRgNGC0L7Rh9C60LhcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLmFkZEFwcGVuZEl0ZW0oY2FyZCk7XG4gICAgfSlcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDRjtGJ0LjQuSBET00t0Y3Qu9C10LzQtdC90YIg0Lgg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQtdCz0L4g0L/QvtGB0LvQtSDQv9GA0LXQtNC40LTRg9GJ0LXQs9C+XG4gIGFkZEFwcGVuZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0YDQuNC90LjQvNCw0Y7RidC40LkgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0Y7RidC40Lkg0L/QtdGA0LXQtCDQvtGB0YLQsNC70YzQvdGL0LzQuCDRjdC70LXQvNC10L3RgtCw0LzQuFxuICBhZGRQcmVwZW5kSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCIvLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8g0LrQu9Cw0YHRgSDRjtC30LXRgNC40L3RhNC+IC0g0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINGD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIC8vINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQu9Cw0YHRgdCwXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yLCB1c2VyQXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWVTZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iU2VsZWN0b3IudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhclNlbGVjdG9yLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbXlJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNGO0YnQuNC5INGD0L3QuNC60LDQu9GM0L3Ri9C5INCw0LnQtNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICByZXR1cm5NeUlkKCkge1xuICAgIHJldHVybiB0aGlzLl9teUlkO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LLRi9C00LDRjtGJ0LjQuSDQvtGI0LjQsdC60YMg0LXRgdC70Lgg0L7RgtCy0LXRgiDQvtGCINGB0LXRgNCy0LXRgNCwINC/0YDQuNGI0LXQuyDRgSDQvtGI0LjQsdC60L7QuVxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQo9C/0YEsINC+0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9LCDRh9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6LmApO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQt9Cw0L/RgNCw0YjQuNCy0LDRjtGJ0LjQuSDRgyDRgdC10YDQstC10YDQsCDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC/0YDQsNCy0LvRj9GO0YnQuNC5INC90LAg0YHQtdGA0LLQtdGAINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0YDQvtGE0LjQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBjaGFuZ2VVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC+0YLQv9GA0LDQstC70Y/RjtGJ0LjQuSDQvdCwINGB0LXRgNCy0LXRgCDQvdC+0LLRi9C5INCw0LLQsNGC0LDRgCDQv9GA0L7RhNC40LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgY2hhbmdlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC30LDQv9GA0LDRiNC40LLQsNGO0YnQuNC5INGDINGB0LXRgNCy0LXRgNCwINC60LDRgNGC0L7Rh9C60Lgg0LTQu9GPINGB0YLRgNCw0L3QuNGG0YtcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC/0YDQsNCy0LvRj9GO0YnQuNC5INC00LDQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4INC+0YIg0LrQu9C40LXQvdGC0LAg0L3QsCDRgdC10YDQstC10YBcbiAgYWRkQ2FyZFNlcnZlcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0YPQtNCw0LvRj9GO0YnQuNC5INC60LDRgNGC0L7Rh9C60YMg0YEg0YHQtdGA0LLQtdGA0LBcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGC0L/RgNCw0LLQu9GP0Y7RidC40Lkg0L3QsCDRgdC10YDQstC10YAg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQtVxuICBhZGRMaWtlVG9DYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INGD0LTQsNC70Y/RjtGJ0LjQuSDRgSDRgdC10YDQstC10YDQsCDQu9Cw0LnQuiDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV0ZUxpa2VGcm9tQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINGBINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC10Lwg0LTQtdC50YHRgtCy0LjRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8sINC90LDRgdC70LXQtNGD0LXRgiDRh9Cw0YHRgtGMINC80LXRgtC+0LTQvtCyINC+0YIg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L8g0Lgg0Y3QutGB0L/QvtGA0YIg0LXQs9C+INGB0L7QtNC10YDQttC40LzQvtCz0L5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cERlbGV0ZUNvbnRhaW5lcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5fcGVybWFuZW50VGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0Y7RidC40Lkg0LzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPINGA0L7QtNC40YLQtdC70Y8g0LTQu9GPINGC0L7Qs9C+LCDRh9GC0L7QsdGLINCy0YvQt9GL0LLQsNGC0Ywg0LXQs9C+INC90LAg0LrQvtC90LrRgNC10YLQvdC+0Lkg0YPQtNCw0LvRj9C10LzQvtC5INC60LDRgNGC0L7Rh9C60LVcbiAgb3BlblBvcHVwKGNhcmQpIHtcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7RgtC+0LHRgNCw0LbQsNGO0YnQuNC5INC30LDQs9GA0YPQt9C60YMg0LTQsNC90L3Ri9GFINGH0LXRgNC10Lcg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQvtGC0L/RgNCw0LLQutC4INC00LDQvdC90YvRhVxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQo9C00LDQu9C10L3QuNC1Li4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fcGVybWFuZW50VGV4dDtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9jYXJkKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59IiwiLy8g0LjQvNC/0L7RgNGCINGE0LDQudC70LAg0YHQviDRgdGC0LjQu9GP0LzQuCBDU1NcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG4vLyDQuNC80L/QvtGA0YIg0YHQtdC70LXQutGC0L7RgNC+0LIg0Lgg0LrQvtC90YHRgtCw0L3RglxuaW1wb3J0IHtcbiAgc2VsZWN0b3JzLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBpbml0aWFsQ2FyZHMsXG4gIHByb2ZpbGVGb3JtLFxuICBhdmF0YXJGb3JtLFxuICBjYXJkRm9ybSxcbiAgcHJvZmlsZUVkaXRidXR0b24sXG4gIGFkZENhcmRCdXR0b24sXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIGF2YXRhckJ1dHRvbixcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQvtCyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcblxuLy8g0YHQvtC30LTQsNC10Lwg0LrQu9Cw0YHRgSDQsNC/0Lgg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQtNCw0L3QvdGL0LzQuCDQvtGCINGB0LXRgNCy0LXRgNCwXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTEvJyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICdiZmE0MGZmYy1hOWU3LTRhYjYtODMzNC0yYjNmNDFmNzY5NGInLFxuICAgICdjb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gIH0sXG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW3VzZXJTZXJ2ZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XG4gICAgdXNlci5zZXRVc2VySW5mbyh1c2VyU2VydmVyRGF0YSk7XG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgYWxlcnQoZXJyKTtcbiAgfSk7XG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHsgcmVuZGVyZXI6IGNyZWF0ZUNhcmQgfSwgc2VsZWN0b3JzLnBsYWNlRm9yQ2FyZCk7XG5cbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRj1xuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcHJvZmlsZUZvcm0pO1xucHJvZmlsZUZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INC00LvRjyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGNhcmRGb3JtKTtcbmNhcmRGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0YTQvtGA0LzRiyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgYXZhdGFyRm9ybSk7XG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINGB0L7Qt9C00LDQtdC8INC+0LHQtdC60YIg0YEg0LrQu9Cw0YHRgdC+0Lwg0Y7Qt9C10YDQuNC90YTQvlxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IHNlbGVjdG9ycy5wcm9maWxlTmFtZSxcbiAgdXNlckpvYlNlbGVjdG9yOiBzZWxlY3RvcnMucHJvZmlsZUpvYixcbiAgdXNlckF2YXRhclNlbGVjdG9yOiBzZWxlY3RvcnMuQXZhdGFySW1nLFxufSk7XG5cbi8vINGE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChkYXRhLCBoYW5kbGVPcGVuQmlnSW1hZ2UsIGhhbmRsZUxpa2VDbGljaywgaGFuZGxlVHJhc2hCaW5DbGljaywgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZSwgdXNlci5yZXR1cm5NeUlkKCkpO1xuICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBuZXdDYXJkRWxlbWVudDtcbn1cblxuLy8g0L/QvtC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0Lkg0L3QsCDQstC10YHRjCDRjdC60YDQsNC9XG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMucG9wdXBWaWV3UGljdHVyZSk7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC+0YDQsCDQv9GA0L7RhNC40LvRj1xuY29uc3QgcG9wdXBXaXRoRm9ybVByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBQcm9maWxlLCBoYW5kbGVFZGl0Rm9ybVN1Ym1pdCk7XG5wb3B1cFdpdGhGb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwV2l0aEZvcm1DYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLnBvcHVwQ2FyZCwgaGFuZGxlQWRkRm9ybVN1Ym1pdCk7XG5wb3B1cFdpdGhGb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQv9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxuY29uc3QgcG9wdXBXaXRoRm9ybUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wb3B1cEF2YXRhciwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XG5wb3B1cFdpdGhGb3JtQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoYXZhdGFyKSB7XG4gIHBvcHVwV2l0aEZvcm1BdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmNoYW5nZUF2YXRhcihhdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlci5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgcG9wdXBXaXRoRm9ybUF2YXRhci5jbG9zZVBvcHVwKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhGb3JtQXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG5jb25zdCBwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHNlbGVjdG9ycy5wb3B1cERlbGV0ZSwgaGFuZGxlUmVtb3ZlU3VibWl0KTtcbnBvcHVwV2l0aERlbGV0ZVZlcmlmaWNhdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVSZW1vdmVTdWJtaXQoY2FyZCkge1xuICBwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24ucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY2FyZC5jYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICBwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24uY2xvc2VQb3B1cCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGFsZXJ0KGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhEZWxldGVWZXJpZmljYXRpb24ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoZGF0YSkge1xuICBwb3B1cFdpdGhGb3JtUHJvZmlsZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuY2hhbmdlVXNlckluZm8oZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICBwb3B1cFdpdGhGb3JtUHJvZmlsZS5jbG9zZVBvcHVwKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgYWxlcnQoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwV2l0aEZvcm1Qcm9maWxlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRGb3JtU3VibWl0KGRhdGEpIHtcbiAgcG9wdXBXaXRoRm9ybUNhcmQucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmFkZENhcmRTZXJ2ZXIoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkUHJlcGVuZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcbiAgICAgIHBvcHVwV2l0aEZvcm1DYXJkLmNsb3NlUG9wdXAoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBXaXRoRm9ybUNhcmQucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3BlbkJpZ0ltYWdlKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlblBvcHVwKG5hbWUsIGxpbmspO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZCkge1xuICBpZiAoIWNhcmQuaXNMaWtlZCgpKSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZVRvQ2FyZChjYXJkLmNhcmRJZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZC51cGRhdGVMaWtlQ291bnRlcihyZXMpO1xuICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzVmlldygpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGFsZXJ0KGVycik7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVMaWtlRnJvbUNhcmQoY2FyZC5jYXJkSWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQudXBkYXRlTGlrZUNvdW50ZXIocmVzKTtcbiAgICAgICAgY2FyZC51cGRhdGVMaWtlc1ZpZXcoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBhbGVydChlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVHJhc2hCaW5DbGljayhjYXJkKSB7XG4gIHBvcHVwV2l0aERlbGV0ZVZlcmlmaWNhdGlvbi5vcGVuUG9wdXAoY2FyZCk7XG59XG5cbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYXZhdGFyRm9ybVZhbGlkYXRpb24ucmVzZXRGb3JtKCk7XG4gIHBvcHVwV2l0aEZvcm1BdmF0YXIub3BlblBvcHVwKCk7XG59KTtcblxuLy8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70Y8g0LrQvdC+0L/QutC4INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbnByb2ZpbGVFZGl0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gYWJvdXQ7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdGlvbi5yZXNldEZvcm0oKTtcbiAgcG9wdXBXaXRoRm9ybVByb2ZpbGUub3BlblBvcHVwKCk7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY2FyZEZvcm1WYWxpZGF0aW9uLnJlc2V0Rm9ybSgpO1xuICBwb3B1cFdpdGhGb3JtQ2FyZC5vcGVuUG9wdXAoKTtcbn0pOyJdLCJuYW1lcyI6WyJjYXJkVGVtcGxhdGVTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJwcm9maWxlRm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF2YXRhckZvcm0iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlRWRpdGJ1dHRvbiIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiY2FyZEZvcm0iLCJhZGRDYXJkQnV0dG9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0Iiwia2V5IiwiY2xvc2VQb3B1cCIsInRoaXMiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZVBvcHVwT25Fc2MiLCJiaW5kIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9jbG9zZVBvcHVwQnlDbGljayIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1nUGljdHVyZSIsIl90aXRsZU9mUG9wdXBJbWciLCJuYW1lIiwibGluayIsImFsdCIsInRleHRDb250ZW50Iiwic3JjIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9wZXJtYW5lbnRUZXh0IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNldCIsIl9mb3JtVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpc0xvYWRpbmciLCJDYXJkIiwiZGF0YSIsImhhbmRsZU9wZW5CaWdJbWFnZSIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZVRyYXNoQmluQ2xpY2siLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiX2RhdGEiLCJjYXJkSWQiLCJfaWQiLCJfbmFtZSIsIl9saW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXJJZCIsIm93bmVyIiwiX2hhbmRsZU9wZW5CaWdJbWFnZSIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlVHJhc2hCaW5DbGljayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX215SWQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwibmV3TGlrZSIsIl9saWtlQ291bnRlciIsImxlbmd0aCIsImlzTGlrZWQiLCJfbGlrZUJ1dHRvbiIsInNvbWUiLCJpdGVtIiwiX2NhcmRFbGVtZW50IiwiX2dldENhcmRFbGVtZW50IiwiX2NhcmRQaWN0dXJlIiwiX2NhcmRUaXRsZSIsIl90cmFzaEJpbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWwiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2Zvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX2J1dHRvbkVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlQnV0dG9uU3RhdGUiLCJfZW5hYmxlQnV0dG9uU3RhdGUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJjYXJkIiwiYWRkQXBwZW5kSXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lU2VsZWN0b3IiLCJfdXNlckpvYlNlbGVjdG9yIiwiX2F2YXRhclNlbGVjdG9yIiwiYWJvdXQiLCJhdmF0YXIiLCJBcGkiLCJjb25maWciLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9jYXJkIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlclNlcnZlckRhdGEiLCJjYXJkc0RhdGEiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJjYXJkc0xpc3QiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiYWxlcnQiLCJjcmVhdGVDYXJkIiwicHJvZmlsZUZvcm1WYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNhcmRGb3JtVmFsaWRhdGlvbiIsImF2YXRhckZvcm1WYWxpZGF0aW9uIiwicmV0dXJuTXlJZCIsImdlbmVyYXRlQ2FyZCIsInBvcHVwV2l0aEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFdpdGhGb3JtUHJvZmlsZSIsInJlbmRlckxvYWRpbmciLCJjaGFuZ2VVc2VySW5mbyIsImZpbmFsbHkiLCJwb3B1cFdpdGhGb3JtQ2FyZCIsImFkZENhcmRTZXJ2ZXIiLCJhZGRQcmVwZW5kSXRlbSIsInBvcHVwV2l0aEZvcm1BdmF0YXIiLCJjaGFuZ2VBdmF0YXIiLCJjb25zb2xlIiwibG9nIiwicG9wdXBXaXRoRGVsZXRlVmVyaWZpY2F0aW9uIiwiZGVsZXRlQ2FyZCIsIm9wZW5Qb3B1cCIsImRlbGV0ZUxpa2VGcm9tQ2FyZCIsInVwZGF0ZUxpa2VDb3VudGVyIiwidXBkYXRlTGlrZXNWaWV3IiwiYWRkTGlrZVRvQ2FyZCIsInJlc2V0Rm9ybSJdLCJzb3VyY2VSb290IjoiIn0=